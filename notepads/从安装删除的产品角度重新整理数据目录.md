# 产品目标
- 用户把buckyos service当成一个“单机软件“ 安装在PC上
- 覆盖安装（最常见）： 标准的软件升级操作：下载最新版本的安装包覆盖安装，安装成功后所有的数据和配置都保留。如果配置格式升级，相关软件需要处理兼容性（要给机会给软件处理）
- 全新安装：相当于先完全卸载，再安装。其特点是所有的配置可能都丢失了，但用户的”文档数据“需要保留（比如游戏卸载后，游戏存档需要保留）

## 应用程序的数据
### fs:// 
- local/app_id/ 卸载后一定会删除的数据，保存在本机上 （不会被备份系统直接看到）
- cache/app_id/ 卸载后一定会删除的数据
- dfs://data/$username/appdata/ 保存在dfs上的app数据，卸载后会可以选择不删除的数据。

### kv:// (传统的注册表)
卸载的时候肯定是可以全部删除的
也可以有把一部分配置，被标记为用户配置，卸载的时候选择不删除。下次安装的时候可以继承配置


### rdb:// 关系数据库(postgresql)
目前提倡应用数据sqlite,有文件系统就好了
思考清楚后，可以给基于buckyos sdk开发的app提供rdb

## 用户数据 （安装卸载都不影响这个目录)
- dfs://home/$userid 用户创作的文档数据，需要用户授权才可以访问,在PC上，会link到标准的用户目录里的(my_pi)目录
- dfs://library 用户收集的，素材类数据，通常没有个人隐私,zone内共享，只读权限给app

## 多用户数据的问题
在一个系统上，同一个app只能安装一个版本（多个用户共享二进制）
同一个系统上，同一个app只启动一个实例？需要app基于buckyos sdk进行声明，并得到相应的权限
    - 应用内部有共享数据区和隐私数据区
    - 有应用进行隔离（用户信赖应用提供的隔离机制）
    - 有权限的用户总是可以选择启用自己的“应用独立实例”，已实现数据的彻底隔离（不信任应用提供的隔离机制）

同一个app如何看到buckyos里不同用户的数据？
    - 安装的时候申请权限
    - 需要相关用户确认并授权

## ndn数据的问题？
ndn未来是dfs://
现在可以考虑放在public(目前只有public数据会用到ndn)，可以在一个相对简单的环境里进行验证

## 备份和恢复视角
备份的时候，是有数据优先级的
- 最高优先级：文档数据
- 
