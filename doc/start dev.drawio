<mxfile host="Electron" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/26.0.9 Chrome/128.0.6613.186 Electron/32.2.5 Safari/537.36" version="26.0.9">
  <diagram name="Page1" id="_c5SOJppO-HaUyLpSSM0">
    <mxGraphModel dx="1179" dy="683" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="LefCr4P122YXjQ4VZgSH-2" value="BuckyOS 系统开发环境的搭建&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;## 首次运行自己构建的buckyos&lt;/div&gt;&lt;div&gt;```&lt;/div&gt;&lt;div&gt;git clone&amp;nbsp;&lt;/div&gt;&lt;div&gt;```&lt;/div&gt;&lt;div&gt;### 准备编译环境&lt;/div&gt;&lt;div&gt;设计上buckyos能支持目前所有的主流系统，我们所依赖的基础环境是&lt;/div&gt;&lt;div&gt;python3 (全平台的shell脚本)&lt;/div&gt;&lt;div&gt;rust toolchain&amp;nbsp; +&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;gnu toolchain +&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;openssl libs (构建核心组件）&lt;/span&gt;&lt;/div&gt;&lt;div&gt;node.js (&amp;gt;22.0) +&amp;nbsp;&lt;span style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;pnpm (内置的web UI的脚手架)&lt;/span&gt;&lt;/div&gt;&lt;div&gt;docker toolchain (构建app运行时 运行环境可选，开发环境必装）&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;可以参考devcontainer.json的配置来构造基础环境。我们也在尝试构造全平台的开发环境准备脚本。&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;### 通过构建脚本来构建buckyos&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;```&lt;/div&gt;&lt;div&gt;cd src &amp;amp;&amp;amp; python3 scripts/build.py&amp;nbsp;&lt;/div&gt;&lt;div&gt;```&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;会开始完整构建和自动安装。构建完成的结果会保存在 ./src/rootfs 下&lt;/div&gt;&lt;div&gt;build成功后，build.py会继续调用 scripts/install.py 执行本机安装。安装的目标在 {BUCKYOS_ROOT} 目录&lt;/div&gt;&lt;div&gt;BUCKYOS_ROOT的默认值在Window下是$appdata/buckyos,在其它系统下是/opt/buckyos 你也可以通过设置改环境变量来影响buckyos的安装位置。(我们强烈建议不要在开发环境下修改该环境变量的值）&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;因为资源有限，目前我们的构建脚本在&amp;nbsp; x86 windows / Linux / OSX (Apple Chip) 下有比较严格的测试。如果上述构建脚本无法在你的环境里运行，请给提issue或PR&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;p style=&quot;margin:0in;font-size:11.0pt&quot;&gt;### 运行！&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:11.0pt&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:11.0pt&quot;&gt;```&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:11.0pt&quot;&gt;{BUCKYOS_ROOT}/bin/node_daemon&lt;/p&gt;&lt;p style=&quot;margin:0in;font-size:11.0pt&quot;&gt;```&lt;/p&gt;(类linux系统通常需要管理员权限)&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;p style=&quot;margin:0in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;font-size:11.0pt&quot;&gt;&lt;span lang=&quot;zh-CN&quot; style=&quot;&quot;&gt;运行后，buckyos会&lt;/span&gt;&lt;span lang=&quot;zh-CN&quot; style=&quot;font-weight:bold&quot;&gt;基于默认身份(zoneid&lt;/span&gt;&lt;b style=&quot;background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot;&gt;是test.buckyos.io)&lt;/b&gt;&lt;span style=&quot;font-size: 11pt; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-weight: bold;&quot; lang=&quot;en-US&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;font-size: 11pt; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-weight: bold;&quot; lang=&quot;zh-CN&quot;&gt;以单&lt;/span&gt;&lt;span style=&quot;font-size: 11pt; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-weight: bold;&quot; lang=&quot;en-US&quot;&gt;OOD&lt;/span&gt;&lt;span style=&quot;font-size: 11pt; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255)); font-weight: bold;&quot; lang=&quot;zh-CN&quot;&gt;启动配置启动BuckyOS.（首次运行大概需要1分钟左右的时间完成system boot）&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;margin-left:.375in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;&lt;br/&gt;font-size:11.0pt&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;br&gt;&lt;p style=&quot;margin:0in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;font-size:11.0pt&quot;&gt;&lt;span lang=&quot;zh-CN&quot;&gt;配置&lt;/span&gt;&lt;span lang=&quot;en-US&quot;&gt;host test.buckyos.io&lt;/span&gt;&lt;span lang=&quot;zh-CN&quot;&gt;到开发机,下面是一个在本机开发的host配置的例子:&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;font-size:11.0pt&quot;&gt;```&lt;/p&gt;&lt;p style=&quot;margin: 0in;&quot;&gt;&lt;font face=&quot;Microsoft YaHei&quot;&gt;&lt;span style=&quot;font-size: 14.6667px;&quot;&gt;127.0.0.1 test.buckyos.io&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0in;&quot;&gt;&lt;font face=&quot;Microsoft YaHei&quot;&gt;&lt;span style=&quot;font-size: 14.6667px;&quot;&gt;127.0.0.1 sys.test.buckyos.io&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0in;&quot;&gt;&lt;font face=&quot;Microsoft YaHei&quot;&gt;&lt;span style=&quot;font-size: 14.6667px;&quot;&gt;127.0.0.1 sys_test.test.buckyos.io&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0in;&quot;&gt;&lt;font face=&quot;Microsoft YaHei&quot;&gt;&lt;span style=&quot;font-size: 14.6667px;&quot;&gt;127.0.0.1 hello-buckyos_devtest.test.buckyos.io&lt;/span&gt;&lt;/font&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;font-size:11.0pt&quot;&gt;```&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;font-size:11.0pt&quot;&gt;完成配置后，&lt;span style=&quot;font-size: 11pt; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; lang=&quot;zh-CN&quot;&gt;可以在浏览器中访问buckyos的相关页面了(开发环境不支持https)&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;font-size:11.0pt&quot;&gt;&lt;span style=&quot;font-size: 11pt; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; lang=&quot;zh-CN&quot;&gt;打开http://&lt;/span&gt;&lt;span style=&quot;font-size: 11pt; background-color: transparent; color: light-dark(rgb(0, 0, 0), rgb(255, 255, 255));&quot; lang=&quot;en-US&quot;&gt;test.buckyos.io 查看默认的文件浏览器，默认登录密码是admin / admin&lt;/span&gt;&lt;/p&gt;&lt;p style=&quot;margin:0in;font-family:&amp;quot;Microsoft YaHei&amp;quot;;font-size:11.0pt&quot;&gt;打开http://sys.buckyos.io/login_index.html 可以打开系统管理页面，登录密码是 devtest / bucky2025&lt;/p&gt;&lt;/div&gt;" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="40" y="40" width="760" height="810" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
